<?xml version="1.0" encoding="utf-8" ?>
<Patch>

    <!-- Warning: This patch will break if original mod moves weapons into diff files.
         To fix this, please re-run script using new mod file paths. -->

  <Operation Class="PatchOperationSequence">
  <success>Always</success>
  <operations>

    <!-- ========== PJ_E11Blaster ========== -->

    <!-- Create tools node if it doesn't exist -->
    <li Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationTest">
            <xpath>Defs/ThingDef[defName="PJ_E11Blaster"]/tools</xpath>
                <success>Invert</success>
            </li>
            <li Class="PatchOperationAdd">
            <xpath>Defs/ThingDef[defName="PJ_E11Blaster"]</xpath>
                <value>
                      <tools />
                </value>
            </li>
        </operations>
    </li>

    <!-- Add tools melee values -->
    <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="PJ_E11Blaster"]/tools</xpath>
        <value>
            <li Class="CombatExtended.ToolCE">
                <label>stock</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>1.8</cooldownTime>
                <commonality>1.5</commonality>
                <armorPenetration>0.11</armorPenetration>
                <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelblunt</id>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.118</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelpoke</id>
                <label>barrel</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.086</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
        </value>
    </li>

    <!-- CE conversion -->
    <li Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>PJ_E11Blaster</defName>
        <statBases>
            <Bulk>6.5</Bulk>
            <SightsEfficiency>1</SightsEfficiency>
            <ShotSpread>0.07</ShotSpread>
            <SwayFactor>1.3</SwayFactor>
        </statBases>
        <weaponTags>
              <li>CE_AI_AssaultWeapon</li>
        </weaponTags>
        <AmmoUser>
              <reloadTime>3</reloadTime>
              <magazineSize>24</magazineSize>
              <ammoSet>AmmoSet_SWPlasmaGasCartridge</ammoSet>
        </AmmoUser>
        <FireModes>
             <aiUseBurstMode>TRUE</aiUseBurstMode>
             <aiAimMode>AimedShot</aiAimMode>
             <aimedBurstShotCount>3</aimedBurstShotCount>
        </FireModes>
    </li>

    <li Class="PatchOperationAttributeSet">
    <xpath>Defs/ThingDef[defName="PJ_E11Blaster"]/verbs/li</xpath>
        <attribute>Class</attribute>
        <value>CombatExtended.VerbPropertiesCE</value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_E11Blaster"]/verbs/li/verbClass</xpath>
    <value>
        <verbClass>CombatExtended.Verb_ShootCE</verbClass>
    </value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_E11Blaster"]/verbs/li/defaultProjectile</xpath>
    <value>
        <defaultProjectile>Bullet_SWPlasmaGasCartridge</defaultProjectile>
    </value>
    </li>

    <!-- ========== PJ_DH17Blaster ========== -->

    <!-- Create tools node if it doesn't exist -->
    <li Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationTest">
            <xpath>Defs/ThingDef[defName="PJ_DH17Blaster"]/tools</xpath>
                <success>Invert</success>
            </li>
            <li Class="PatchOperationAdd">
            <xpath>Defs/ThingDef[defName="PJ_DH17Blaster"]</xpath>
                <value>
                      <tools />
                </value>
            </li>
        </operations>
    </li>

    <!-- Add tools melee values -->
    <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="PJ_DH17Blaster"]/tools</xpath>
        <value>
            <li Class="CombatExtended.ToolCE">
                <label>stock</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>1.8</cooldownTime>
                <commonality>1.5</commonality>
                <armorPenetration>0.11</armorPenetration>
                <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelblunt</id>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.118</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelpoke</id>
                <label>barrel</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.086</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
        </value>
    </li>

    <!-- CE conversion -->
    <li Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>PJ_DH17Blaster</defName>
        <statBases>
            <Bulk>2.17</Bulk>
            <SightsEfficiency>0.7</SightsEfficiency>
            <ShotSpread>0.11</ShotSpread>
            <SwayFactor>1.02</SwayFactor>
        </statBases>
        <weaponTags>
              <li>CE_AI_Pistol</li>
              <li>CE_OneHandedWeapon</li>
              <li>CE_Sidearm</li>
        </weaponTags>
        <AmmoUser>
              <reloadTime>3</reloadTime>
              <ammoSet>AmmoSet_SWPlasmaGasCartridge</ammoSet>
              <magazineSize>15</magazineSize>
        </AmmoUser>
        <FireModes>
             <aiAimMode>AimedShot</aiAimMode>
             <aiUseBurstMode>FALSE</aiUseBurstMode>
        </FireModes>
    </li>

    <li Class="PatchOperationAttributeSet">
    <xpath>Defs/ThingDef[defName="PJ_DH17Blaster"]/verbs/li</xpath>
        <attribute>Class</attribute>
        <value>CombatExtended.VerbPropertiesCE</value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_DH17Blaster"]/verbs/li/verbClass</xpath>
    <value>
        <verbClass>CombatExtended.Verb_ShootCE</verbClass>
    </value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_DH17Blaster"]/verbs/li/defaultProjectile</xpath>
    <value>
        <defaultProjectile>Bullet_SWPlasmaGasCartridge</defaultProjectile>
    </value>
    </li>

    <!-- ========== PJ_Scoutblaster ========== -->

    <!-- Create tools node if it doesn't exist -->
    <li Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationTest">
            <xpath>Defs/ThingDef[defName="PJ_Scoutblaster"]/tools</xpath>
                <success>Invert</success>
            </li>
            <li Class="PatchOperationAdd">
            <xpath>Defs/ThingDef[defName="PJ_Scoutblaster"]</xpath>
                <value>
                      <tools />
                </value>
            </li>
        </operations>
    </li>

    <!-- Add tools melee values -->
    <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="PJ_Scoutblaster"]/tools</xpath>
        <value>
            <li Class="CombatExtended.ToolCE">
                <label>stock</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>1.8</cooldownTime>
                <commonality>1.5</commonality>
                <armorPenetration>0.11</armorPenetration>
                <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelblunt</id>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.118</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelpoke</id>
                <label>barrel</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.086</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
        </value>
    </li>

    <!-- CE conversion -->
    <li Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>PJ_Scoutblaster</defName>
        <statBases>
            <Bulk>2.17</Bulk>
            <SightsEfficiency>0.85</SightsEfficiency>
            <ShotSpread>0.21</ShotSpread>
            <SwayFactor>1.32</SwayFactor>
        </statBases>
        <weaponTags>
              <li>CE_AI_Pistol</li>
              <li>CE_OneHandedWeapon</li>
              <li>CE_Sidearm</li>
        </weaponTags>
        <AmmoUser>
              <magazineSize>16</magazineSize>
              <ammoSet>AmmoSet_SWPlasmaGasCartridge</ammoSet>
              <reloadTime>2</reloadTime>
        </AmmoUser>
        <FireModes>
             <aiUseBurstMode>TRUE</aiUseBurstMode>
             <aiAimMode>AimedShot</aiAimMode>
             <aimedBurstShotCount>2</aimedBurstShotCount>
        </FireModes>
    </li>

    <li Class="PatchOperationAttributeSet">
    <xpath>Defs/ThingDef[defName="PJ_Scoutblaster"]/verbs/li</xpath>
        <attribute>Class</attribute>
        <value>CombatExtended.VerbPropertiesCE</value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_Scoutblaster"]/verbs/li/verbClass</xpath>
    <value>
        <verbClass>CombatExtended.Verb_ShootCE</verbClass>
    </value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_Scoutblaster"]/verbs/li/defaultProjectile</xpath>
    <value>
        <defaultProjectile>Bullet_SWPlasmaGasCartridge</defaultProjectile>
    </value>
    </li>

    <!-- ========== PJ_SE14blaster ========== -->

    <!-- Create tools node if it doesn't exist -->
    <li Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationTest">
            <xpath>Defs/ThingDef[defName="PJ_SE14blaster"]/tools</xpath>
                <success>Invert</success>
            </li>
            <li Class="PatchOperationAdd">
            <xpath>Defs/ThingDef[defName="PJ_SE14blaster"]</xpath>
                <value>
                      <tools />
                </value>
            </li>
        </operations>
    </li>

    <!-- Add tools melee values -->
    <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="PJ_SE14blaster"]/tools</xpath>
        <value>
            <li Class="CombatExtended.ToolCE">
                <label>stock</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>1.8</cooldownTime>
                <commonality>1.5</commonality>
                <armorPenetration>0.11</armorPenetration>
                <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelblunt</id>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.118</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelpoke</id>
                <label>barrel</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.086</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
        </value>
    </li>

    <!-- CE conversion -->
    <li Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>PJ_SE14blaster</defName>
        <statBases>
            <Bulk>2.17</Bulk>
            <SightsEfficiency>0.7</SightsEfficiency>
            <ShotSpread>0.11</ShotSpread>
            <SwayFactor>1.02</SwayFactor>
        </statBases>
        <weaponTags>
              <li>CE_AI_Pistol</li>
              <li>CE_OneHandedWeapon</li>
              <li>CE_Sidearm</li>
        </weaponTags>
        <AmmoUser>
              <reloadTime>3</reloadTime>
              <ammoSet>AmmoSet_SWPlasmaGasCartridge</ammoSet>
              <magazineSize>20</magazineSize>
        </AmmoUser>
        <FireModes>
             <aimedBurstShotCount>2</aimedBurstShotCount>
             <aiAimMode>AimedShot</aiAimMode>
             <aiUseBurstMode>TRUE</aiUseBurstMode>
        </FireModes>
    </li>

    <li Class="PatchOperationAttributeSet">
    <xpath>Defs/ThingDef[defName="PJ_SE14blaster"]/verbs/li</xpath>
        <attribute>Class</attribute>
        <value>CombatExtended.VerbPropertiesCE</value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_SE14blaster"]/verbs/li/verbClass</xpath>
    <value>
        <verbClass>CombatExtended.Verb_ShootCE</verbClass>
    </value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_SE14blaster"]/verbs/li/defaultProjectile</xpath>
    <value>
        <defaultProjectile>Bullet_SWPlasmaGasCartridge</defaultProjectile>
    </value>
    </li>

    <!-- ========== PJ_DL44blaster ========== -->

    <!-- Create tools node if it doesn't exist -->
    <li Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationTest">
            <xpath>Defs/ThingDef[defName="PJ_DL44blaster"]/tools</xpath>
                <success>Invert</success>
            </li>
            <li Class="PatchOperationAdd">
            <xpath>Defs/ThingDef[defName="PJ_DL44blaster"]</xpath>
                <value>
                      <tools />
                </value>
            </li>
        </operations>
    </li>

    <!-- Add tools melee values -->
    <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="PJ_DL44blaster"]/tools</xpath>
        <value>
            <li Class="CombatExtended.ToolCE">
                <label>stock</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>1.8</cooldownTime>
                <commonality>1.5</commonality>
                <armorPenetration>0.11</armorPenetration>
                <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelblunt</id>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.118</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelpoke</id>
                <label>barrel</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.086</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
        </value>
    </li>

    <!-- CE conversion -->
    <li Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>PJ_DL44blaster</defName>
        <statBases>
            <Bulk>3</Bulk>
            <SightsEfficiency>0.7</SightsEfficiency>
            <ShotSpread>0.21</ShotSpread>
            <SwayFactor>1.32</SwayFactor>
        </statBases>
        <weaponTags>
              <li>CE_AI_Pistol</li>
              <li>CE_OneHandedWeapon</li>
              <li>CE_Sidearm</li>
        </weaponTags>
        <AmmoUser>
              <ammoSet>AmmoSet_SWPlasmaGasCartridge</ammoSet>
              <magazineSize>12</magazineSize>
              <reloadTime>3.5</reloadTime>
        </AmmoUser>
        <FireModes>
             <aiAimMode>AimedShot</aiAimMode>
             <aiUseBurstMode>FALSE</aiUseBurstMode>
        </FireModes>
    </li>

    <li Class="PatchOperationAttributeSet">
    <xpath>Defs/ThingDef[defName="PJ_DL44blaster"]/verbs/li</xpath>
        <attribute>Class</attribute>
        <value>CombatExtended.VerbPropertiesCE</value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_DL44blaster"]/verbs/li/verbClass</xpath>
    <value>
        <verbClass>CombatExtended.Verb_ShootCE</verbClass>
    </value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_DL44blaster"]/verbs/li/defaultProjectile</xpath>
    <value>
        <defaultProjectile>Bullet_SWPlasmaGasCartridge</defaultProjectile>
    </value>
    </li>

    <!-- ========== PJ_DXR6Carb ========== -->

    <!-- Create tools node if it doesn't exist -->
    <li Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationTest">
            <xpath>Defs/ThingDef[defName="PJ_DXR6Carb"]/tools</xpath>
                <success>Invert</success>
            </li>
            <li Class="PatchOperationAdd">
            <xpath>Defs/ThingDef[defName="PJ_DXR6Carb"]</xpath>
                <value>
                      <tools />
                </value>
            </li>
        </operations>
    </li>

    <!-- Add tools melee values -->
    <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="PJ_DXR6Carb"]/tools</xpath>
        <value>
            <li Class="CombatExtended.ToolCE">
                <label>stock</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>1.8</cooldownTime>
                <commonality>1.5</commonality>
                <armorPenetration>0.11</armorPenetration>
                <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelblunt</id>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.118</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelpoke</id>
                <label>barrel</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.086</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
        </value>
    </li>

    <!-- CE conversion -->
    <li Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>PJ_DXR6Carb</defName>
        <statBases>
            <Bulk>3</Bulk>
            <SightsEfficiency>0.7</SightsEfficiency>
            <ShotSpread>0.21</ShotSpread>
            <SwayFactor>1.32</SwayFactor>
        </statBases>
        <weaponTags>
              <li>CE_AI_Pistol</li>
              <li>CE_OneHandedWeapon</li>
              <li>CE_Sidearm</li>
        </weaponTags>
        <AmmoUser>
              <magazineSize>14</magazineSize>
              <ammoSet>AmmoSet_SWPlasmaGasCartridge</ammoSet>
              <reloadTime>3.2</reloadTime>
        </AmmoUser>
        <FireModes>
             <aiAimMode>AimedShot</aiAimMode>
             <aiUseBurstMode>FALSE</aiUseBurstMode>
        </FireModes>
    </li>

    <li Class="PatchOperationAttributeSet">
    <xpath>Defs/ThingDef[defName="PJ_DXR6Carb"]/verbs/li</xpath>
        <attribute>Class</attribute>
        <value>CombatExtended.VerbPropertiesCE</value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_DXR6Carb"]/verbs/li/verbClass</xpath>
    <value>
        <verbClass>CombatExtended.Verb_ShootCE</verbClass>
    </value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_DXR6Carb"]/verbs/li/defaultProjectile</xpath>
    <value>
        <defaultProjectile>Bullet_SWPlasmaGasCartridge</defaultProjectile>
    </value>
    </li>

    <!-- ========== PJ_JawaIon ========== -->

    <!-- Create tools node if it doesn't exist -->
    <li Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationTest">
            <xpath>Defs/ThingDef[defName="PJ_JawaIon"]/tools</xpath>
                <success>Invert</success>
            </li>
            <li Class="PatchOperationAdd">
            <xpath>Defs/ThingDef[defName="PJ_JawaIon"]</xpath>
                <value>
                      <tools />
                </value>
            </li>
        </operations>
    </li>

    <!-- Add tools melee values -->
    <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="PJ_JawaIon"]/tools</xpath>
        <value>
            <li Class="CombatExtended.ToolCE">
                <label>stock</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>1.8</cooldownTime>
                <commonality>1.5</commonality>
                <armorPenetration>0.11</armorPenetration>
                <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelblunt</id>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.118</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelpoke</id>
                <label>barrel</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.086</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
        </value>
    </li>

    <!-- CE conversion -->
    <li Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>PJ_JawaIon</defName>
        <statBases>
            <Bulk>3</Bulk>
            <SightsEfficiency>0.7</SightsEfficiency>
            <ShotSpread>0.21</ShotSpread>
            <SwayFactor>1.32</SwayFactor>
        </statBases>
        <weaponTags>
              <li>CE_AI_Pistol</li>
              <li>CE_OneHandedWeapon</li>
              <li>CE_Sidearm</li>
        </weaponTags>
        <AmmoUser>
              <ammoSet>AmmoSet_SWPlasmaGasCartridge</ammoSet>
              <magazineSize>18</magazineSize>
              <reloadTime>3.7</reloadTime>
        </AmmoUser>
        <FireModes>
             <aiAimMode>AimedShot</aiAimMode>
             <aiUseBurstMode>FALSE</aiUseBurstMode>
        </FireModes>
    </li>

    <li Class="PatchOperationAttributeSet">
    <xpath>Defs/ThingDef[defName="PJ_JawaIon"]/verbs/li</xpath>
        <attribute>Class</attribute>
        <value>CombatExtended.VerbPropertiesCE</value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_JawaIon"]/verbs/li/verbClass</xpath>
    <value>
        <verbClass>CombatExtended.Verb_ShootCE</verbClass>
    </value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_JawaIon"]/verbs/li/defaultProjectile</xpath>
    <value>
        <defaultProjectile>Bullet_SWPlasmaGasCartridge</defaultProjectile>
    </value>
    </li>

    <!-- ========== PJ_NymSlug ========== -->

    <!-- Create tools node if it doesn't exist -->
    <li Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationTest">
            <xpath>Defs/ThingDef[defName="PJ_NymSlug"]/tools</xpath>
                <success>Invert</success>
            </li>
            <li Class="PatchOperationAdd">
            <xpath>Defs/ThingDef[defName="PJ_NymSlug"]</xpath>
                <value>
                      <tools />
                </value>
            </li>
        </operations>
    </li>

    <!-- Add tools melee values -->
    <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="PJ_NymSlug"]/tools</xpath>
        <value>
            <li Class="CombatExtended.ToolCE">
                <label>stock</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>1.8</cooldownTime>
                <commonality>1.5</commonality>
                <armorPenetration>0.11</armorPenetration>
                <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelblunt</id>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.118</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelpoke</id>
                <label>barrel</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.086</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
        </value>
    </li>

    <!-- CE conversion -->
    <li Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>PJ_NymSlug</defName>
        <statBases>
            <Bulk>3</Bulk>
            <SightsEfficiency>0.7</SightsEfficiency>
            <ShotSpread>0.26</ShotSpread>
            <SwayFactor>1.64</SwayFactor>
        </statBases>
        <weaponTags>
              <li>CE_OneHandedWeapon</li>
              <li>CE_AI_AssaultWeapon</li>
              <li>CE_Sidearm</li>
        </weaponTags>
        <AmmoUser>
              <magazineSize>16</magazineSize>
              <ammoSet>AmmoSet_12Gauge</ammoSet>
              <reloadTime>4</reloadTime>
        </AmmoUser>
        <FireModes>
             <aiAimMode>AimedShot</aiAimMode>
             <aiUseBurstMode>FALSE</aiUseBurstMode>
        </FireModes>
    </li>

    <li Class="PatchOperationAttributeSet">
    <xpath>Defs/ThingDef[defName="PJ_NymSlug"]/verbs/li</xpath>
        <attribute>Class</attribute>
        <value>CombatExtended.VerbPropertiesCE</value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_NymSlug"]/verbs/li/verbClass</xpath>
    <value>
        <verbClass>CombatExtended.Verb_ShootCE</verbClass>
    </value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_NymSlug"]/verbs/li/defaultProjectile</xpath>
    <value>
        <defaultProjectile>Bullet_12Gauge_ElectroSlug</defaultProjectile>
    </value>
    </li>

    <!-- ========== PJ_LauncherP ========== -->

    <!-- Create tools node if it doesn't exist -->
    <li Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationTest">
            <xpath>Defs/ThingDef[defName="PJ_LauncherP"]/tools</xpath>
                <success>Invert</success>
            </li>
            <li Class="PatchOperationAdd">
            <xpath>Defs/ThingDef[defName="PJ_LauncherP"]</xpath>
                <value>
                      <tools />
                </value>
            </li>
        </operations>
    </li>

    <!-- Add tools melee values -->
    <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="PJ_LauncherP"]/tools</xpath>
        <value>
            <li Class="CombatExtended.ToolCE">
                <label>stock</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>1.8</cooldownTime>
                <commonality>1.5</commonality>
                <armorPenetration>0.11</armorPenetration>
                <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelblunt</id>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.118</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelpoke</id>
                <label>barrel</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.086</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
        </value>
    </li>

    <!-- CE conversion -->
    <li Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>PJ_LauncherP</defName>
        <statBases>
            <Bulk>5.5</Bulk>
            <SightsEfficiency>0.45</SightsEfficiency>
            <ShotSpread>0.35</ShotSpread>
            <SwayFactor>4.64</SwayFactor>
        </statBases>
        <weaponTags>
              <li>CE_AI_Pistol</li>
              <li>CE_OneHandedWeapon</li>
              <li>CE_Sidearm</li>
        </weaponTags>
        <AmmoUser>
              <reloadTime>6</reloadTime>
              <ammoSet>AmmoSet_84x246mmR</ammoSet>
              <magazineSize>8</magazineSize>
        </AmmoUser>
        <FireModes>
             <aiUseBurstMode>FALSE</aiUseBurstMode>
             <aiAimMode>AimedShot</aiAimMode>
        </FireModes>
    </li>

    <li Class="PatchOperationAttributeSet">
    <xpath>Defs/ThingDef[defName="PJ_LauncherP"]/verbs/li</xpath>
        <attribute>Class</attribute>
        <value>CombatExtended.VerbPropertiesCE</value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_LauncherP"]/verbs/li/verbClass</xpath>
    <value>
        <verbClass>CombatExtended.Verb_ShootCE</verbClass>
    </value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_LauncherP"]/verbs/li/defaultProjectile</xpath>
    <value>
        <defaultProjectile>Bullet_84x246mmR_HEAT</defaultProjectile>
    </value>
    </li>

    <!-- ========== PJ_T21Rifle ========== -->

    <!-- Create tools node if it doesn't exist -->
    <li Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationTest">
            <xpath>Defs/ThingDef[defName="PJ_T21Rifle"]/tools</xpath>
                <success>Invert</success>
            </li>
            <li Class="PatchOperationAdd">
            <xpath>Defs/ThingDef[defName="PJ_T21Rifle"]</xpath>
                <value>
                      <tools />
                </value>
            </li>
        </operations>
    </li>

    <!-- Add tools melee values -->
    <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="PJ_T21Rifle"]/tools</xpath>
        <value>
            <li Class="CombatExtended.ToolCE">
                <label>stock</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>1.8</cooldownTime>
                <commonality>1.5</commonality>
                <armorPenetration>0.11</armorPenetration>
                <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelblunt</id>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.118</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelpoke</id>
                <label>barrel</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.086</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
        </value>
    </li>

    <!-- CE conversion -->
    <li Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>PJ_T21Rifle</defName>
        <statBases>
            <Bulk>4</Bulk>
            <SightsEfficiency>0.7</SightsEfficiency>
            <ShotSpread>0.11</ShotSpread>
            <SwayFactor>1.02</SwayFactor>
        </statBases>
        <weaponTags>
              <li>CE_AI_AssaultWeapon</li>
              <li>CE_Sidearm</li>
        </weaponTags>
        <AmmoUser>
              <reloadTime>2.4</reloadTime>
              <magazineSize>18</magazineSize>
              <ammoSet>AmmoSet_SWPlasmaGasCartridge</ammoSet>
        </AmmoUser>
        <FireModes>
             <aiAimMode>AimedShot</aiAimMode>
             <aiUseBurstMode>FALSE</aiUseBurstMode>
        </FireModes>
    </li>

    <li Class="PatchOperationAttributeSet">
    <xpath>Defs/ThingDef[defName="PJ_T21Rifle"]/verbs/li</xpath>
        <attribute>Class</attribute>
        <value>CombatExtended.VerbPropertiesCE</value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_T21Rifle"]/verbs/li/verbClass</xpath>
    <value>
        <verbClass>CombatExtended.Verb_ShootCE</verbClass>
    </value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_T21Rifle"]/verbs/li/defaultProjectile</xpath>
    <value>
        <defaultProjectile>Bullet_SWPlasmaGasCartridge_AP</defaultProjectile>
    </value>
    </li>

    <!-- ========== PJ_DC15Rifle ========== -->

    <!-- Create tools node if it doesn't exist -->
    <li Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationTest">
            <xpath>Defs/ThingDef[defName="PJ_DC15Rifle"]/tools</xpath>
                <success>Invert</success>
            </li>
            <li Class="PatchOperationAdd">
            <xpath>Defs/ThingDef[defName="PJ_DC15Rifle"]</xpath>
                <value>
                      <tools />
                </value>
            </li>
        </operations>
    </li>

    <!-- Add tools melee values -->
    <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="PJ_DC15Rifle"]/tools</xpath>
        <value>
            <li Class="CombatExtended.ToolCE">
                <label>stock</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>1.8</cooldownTime>
                <commonality>1.5</commonality>
                <armorPenetration>0.11</armorPenetration>
                <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelblunt</id>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.118</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelpoke</id>
                <label>barrel</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.086</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
        </value>
    </li>

    <!-- CE conversion -->
    <li Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>PJ_DC15Rifle</defName>
        <statBases>
            <Bulk>4</Bulk>
            <SightsEfficiency>0.7</SightsEfficiency>
            <ShotSpread>0.31</ShotSpread>
            <SwayFactor>1.22</SwayFactor>
        </statBases>
        <weaponTags>
              <li>CE_AI_AssaultWeapon</li>
              <li>CE_Sidearm</li>
        </weaponTags>
        <AmmoUser>
              <reloadTime>2.4</reloadTime>
              <magazineSize>20</magazineSize>
              <ammoSet>AmmoSet_SWPlasmaGasCartridge</ammoSet>
        </AmmoUser>
        <FireModes>
             <aiUseBurstMode>TRUE</aiUseBurstMode>
             <aimedBurstShotCount>2</aimedBurstShotCount>
             <aiAimMode>AimedShot</aiAimMode>
        </FireModes>
    </li>

    <li Class="PatchOperationAttributeSet">
    <xpath>Defs/ThingDef[defName="PJ_DC15Rifle"]/verbs/li</xpath>
        <attribute>Class</attribute>
        <value>CombatExtended.VerbPropertiesCE</value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_DC15Rifle"]/verbs/li/verbClass</xpath>
    <value>
        <verbClass>CombatExtended.Verb_ShootCE</verbClass>
    </value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_DC15Rifle"]/verbs/li/defaultProjectile</xpath>
    <value>
        <defaultProjectile>Bullet_SWPlasmaGasCartridge</defaultProjectile>
    </value>
    </li>

    <!-- ========== PJ_DLT19Rifle ========== -->

    <!-- Create tools node if it doesn't exist -->
    <li Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationTest">
            <xpath>Defs/ThingDef[defName="PJ_DLT19Rifle"]/tools</xpath>
                <success>Invert</success>
            </li>
            <li Class="PatchOperationAdd">
            <xpath>Defs/ThingDef[defName="PJ_DLT19Rifle"]</xpath>
                <value>
                      <tools />
                </value>
            </li>
        </operations>
    </li>

    <!-- Add tools melee values -->
    <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="PJ_DLT19Rifle"]/tools</xpath>
        <value>
            <li Class="CombatExtended.ToolCE">
                <label>stock</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>1.8</cooldownTime>
                <commonality>1.5</commonality>
                <armorPenetration>0.11</armorPenetration>
                <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelblunt</id>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.118</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelpoke</id>
                <label>barrel</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.086</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
        </value>
    </li>

    <!-- CE conversion -->
    <li Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>PJ_DLT19Rifle</defName>
        <statBases>
            <Bulk>4</Bulk>
            <SightsEfficiency>0.7</SightsEfficiency>
            <ShotSpread>0.31</ShotSpread>
            <SwayFactor>1.22</SwayFactor>
        </statBases>
        <weaponTags>
              <li>MedievalShields_ValidSidearm</li>
              <li>CE_AI_AssaultWeapon</li>
              <li>CE_Sidearm</li>
        </weaponTags>
        <AmmoUser>
              <reloadTime>2.4</reloadTime>
              <ammoSet>AmmoSet_SWPlasmaGasCartridge</ammoSet>
              <magazineSize>24</magazineSize>
        </AmmoUser>
        <FireModes>
             <aiUseBurstMode>TRUE</aiUseBurstMode>
             <aiAimMode>AimedShot</aiAimMode>
             <aimedBurstShotCount>3</aimedBurstShotCount>
        </FireModes>
    </li>

    <li Class="PatchOperationAttributeSet">
    <xpath>Defs/ThingDef[defName="PJ_DLT19Rifle"]/verbs/li</xpath>
        <attribute>Class</attribute>
        <value>CombatExtended.VerbPropertiesCE</value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_DLT19Rifle"]/verbs/li/verbClass</xpath>
    <value>
        <verbClass>CombatExtended.Verb_ShootCE</verbClass>
    </value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_DLT19Rifle"]/verbs/li/defaultProjectile</xpath>
    <value>
        <defaultProjectile>Bullet_SWPlasmaGasCartridge</defaultProjectile>
    </value>
    </li>

    <!-- ========== PJ_EE3Carbine ========== -->

    <!-- Create tools node if it doesn't exist -->
    <li Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationTest">
            <xpath>Defs/ThingDef[defName="PJ_EE3Carbine"]/tools</xpath>
                <success>Invert</success>
            </li>
            <li Class="PatchOperationAdd">
            <xpath>Defs/ThingDef[defName="PJ_EE3Carbine"]</xpath>
                <value>
                      <tools />
                </value>
            </li>
        </operations>
    </li>

    <!-- Add tools melee values -->
    <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="PJ_EE3Carbine"]/tools</xpath>
        <value>
            <li Class="CombatExtended.ToolCE">
                <label>stock</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>9</power>
                <cooldownTime>1.8</cooldownTime>
                <commonality>1.5</commonality>
                <armorPenetration>0.11</armorPenetration>
                <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelblunt</id>
                <label>barrel</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.118</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
            <li Class="CombatExtended.ToolCE">
                <id>barrelpoke</id>
                <label>barrel</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>10</power>
                <cooldownTime>1.9</cooldownTime>
                <armorPenetration>0.086</armorPenetration>
                <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
            </li>
        </value>
    </li>

    <!-- CE conversion -->
    <li Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>PJ_EE3Carbine</defName>
        <statBases>
            <Bulk>4</Bulk>
            <SightsEfficiency>0.7</SightsEfficiency>
            <ShotSpread>0.08</ShotSpread>
            <SwayFactor>0.82</SwayFactor>
        </statBases>
        <weaponTags>
              <li>CE_AI_AssaultWeapon</li>
              <li>CE_Sidearm</li>
        </weaponTags>
        <AmmoUser>
              <reloadTime>1.9</reloadTime>
              <magazineSize>30</magazineSize>
              <ammoSet>AmmoSet_SWPlasmaGasCartridge</ammoSet>
        </AmmoUser>
        <FireModes>
             <aiUseBurstMode>FALSE</aiUseBurstMode>
             <aiAimMode>AimedShot</aiAimMode>
        </FireModes>
    </li>

    <li Class="PatchOperationAttributeSet">
    <xpath>Defs/ThingDef[defName="PJ_EE3Carbine"]/verbs/li</xpath>
        <attribute>Class</attribute>
        <value>CombatExtended.VerbPropertiesCE</value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_EE3Carbine"]/verbs/li/verbClass</xpath>
    <value>
        <verbClass>CombatExtended.Verb_ShootCE</verbClass>
    </value>
    </li>

    <li Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PJ_EE3Carbine"]/verbs/li/defaultProjectile</xpath>
    <value>
        <defaultProjectile>Bullet_SWPlasmaGasCartridge</defaultProjectile>
    </value>
    </li>

  </operations>  <!-- end sequence -->
  </Operation>   <!-- end sequence -->

</Patch>

